<!DOCTYPE html>
<html lang="en" data-th-with="feature=${resource.adaptTo(@org.whistlepost.model.Feature@class)},layout=${resolver.resolve(request, '/content/layout').adaptTo(@org.whistlepost.model.Layout@class)}">

<!--<head data-th-replace="/apps/wp/page/fragments/head.html::default(${feature})">-->
<!--</head>-->
<th:block data-sling-include="${resource}" data-sling-resourceType="'wp/head'">
</th:block>

<body>

<div class="wp-layout holygrail">
    <th:block data-sling-include="${resolver.resolve(request, layout.header)}" data-sling-addSelectors="'header'">
    </th:block>

<!--    <nav data-th-replace="/apps/wp/page/fragments/navigation.html::navbar">-->
<!--    </nav>-->
    <th:block data-sling-include="${resolver.resolve(request, layout.navigation)}">
    </th:block>

    <main>
<!--        <section data-th-replace="/apps/wnews/page/fragments/article.html::latest(${resource.valueMap['feature']})">-->
<!--        </section>-->
        <section>
            <article data-th-replace="/apps/wp/page/fragments/article.html::summary(${resolver.resolve(request, feature.feature)})">[ARTICLE]</article>

            <div data-th-replace="/apps/wp/page/fragments/article.html::summary-list(${resolver.resolve(request, feature.articles)}, ${resolver.resolve(request, feature.feature)})">[ARTICLE]</div>
        </section>

<!--        <nav style="margin-left:20px">-->
<!--            <a href="/content/wnews/articles/archive.html" style="font-size: 1.4em;">More articles..</a>-->
<!--        </nav>-->

<!--        <nav data-th-replace="/apps/wnews/page/fragments/columns.html::columns-nav">-->
<!--        </nav>-->
<!--        <div data-th-replace="/apps/wp/page/fragments/article.html::link-list(${resolver.resolve(request, feature.sidebar)})">-->
<!--        </div>-->
        <th:block data-sling-include="${resolver.resolve(request, layout.navigation)}" data-sling-addSelectors="'columns'">
        </th:block>
    </main>

    <aside>
<!--        <div data-th-replace="/apps/wp/page/fragments/localBusiness.html::sidebar(${resolver.resolve(request, layout.sidebar)})">-->
<!--        </div>-->
        <th:block data-sling-include="${resolver.resolve(request, layout.sidebar)}" data-sling-addSelectors="'sidebar'">
        </th:block>
    </aside>
<!--    <th:block data-sling-include="${resolver.resolve(request, feature.sidebar)}" data-sling-resourceType="'wp/sidebar'">-->
<!--    </th:block>-->

    <th:block data-sling-include="${resolver.resolve(request, layout.footer)}" data-sling-addSelectors="'footer'">
    </th:block>
<!--    <footer data-th-replace="/apps/wp/page/fragments/footer.html::default">-->
<!--    </footer>-->
</div>

</body>
</html>
